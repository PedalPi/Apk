<ion-header>
  <ion-navbar [color]="connectedColor">
    <ion-title>
      {{'CONFIGURATIONS' | translate}}
    </ion-title>

    <ion-buttons end>
      <button ion-button color="royal" (click)="about()">
        {{'ABOUT' | translate}}
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-navbar [color]="connectedColor">
    <ion-list>
      <ion-item id="configurationsDiscoverMode">
        <ion-label>{{'DISCOVER_DEVICE_MODE' | translate}}</ion-label>

        <ion-note item-right [attr.selected]="!autoSearch ? 'selected' : ''">{{'MANUAL' | translate}}</ion-note>
        <ion-toggle [(ngModel)]="autoSearch" [disabled]="emulated"></ion-toggle>
        <ion-note item-right [attr.selected]="autoSearch ? 'selected' : ''">{{'AUTO' | translate}}</ion-note>
      </ion-item>
    </ion-list>
  </ion-navbar>

</ion-header>

<ion-content>
  <div *ngIf="!autoSearch">
    <ion-item>
      <ion-label stacked primary>{{'DEVICE_IP' | translate}}</ion-label>
      <ion-input placeholder="http://192.168.0.1" [(ngModel)]="ip"></ion-input>
      <button class="sameAddress" ion-button clear item-right large (click)="sameAddress()">
        {{'SAME_ADDRESS' | translate}}
      </button>
    </ion-item>

    <ion-item>
      <button ion-button full large (click)="apply()">{{'APPLY' | translate}}</button>
    </ion-item>
  </div>

  <div *ngIf="autoSearch" padding class="autoSearch">
    <div id="autosearch-title">
      <h2>{{'DEVICES' | translate}}</h2>

      <ion-spinner [hidden]='!finding'></ion-spinner>
      <button ion-button (click)="startDiscover()" [hidden]="finding" color="dark" outline>
        discover
      </button>
    </div>

    <ion-list>
      <ion-item *ngFor="let device of devices" (click)="connect(device)">
        <sr-icon icon="icons.svg#icon-raspberry"></sr-icon> {{device.name}}
      </ion-item>
    </ion-list>
  </div>
</ion-content>
